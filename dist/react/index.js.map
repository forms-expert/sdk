{"version":3,"sources":["../../react/use-form.tsx","../../core/types.ts","../../core/api-client.ts","../../core/forms-sdk.ts","../../react/forms-expert-form.tsx"],"sourcesContent":["import {\n  createContext,\n  useContext,\n  useState,\n  useCallback,\n  useMemo,\n  useEffect,\n  ReactNode,\n} from 'react';\nimport {\n  FormsSDK,\n  FormsSDKConfig,\n  FormStatusResponse,\n  SubmissionResponse,\n  ValidationError,\n  FormValidationError,\n  FormsError,\n  UploadProgress,\n  FileValidationError,\n} from '../core';\n\ninterface FormsContextValue {\n  sdk: FormsSDK;\n  isReady: boolean;\n}\n\nconst FormsContext = createContext<FormsContextValue | null>(null);\n\ninterface FormsProviderProps {\n  config: FormsSDKConfig;\n  children: ReactNode;\n}\n\n/**\n * Forms provider component\n */\nexport function FormsProvider({ config, children }: FormsProviderProps) {\n  const sdk = useMemo(() => new FormsSDK(config), [config]);\n  const value = useMemo(() => ({ sdk, isReady: true }), [sdk]);\n\n  return (\n    <FormsContext.Provider value={value}>{children}</FormsContext.Provider>\n  );\n}\n\n/**\n * Format bytes to human readable string\n */\nfunction formatBytes(bytes: number): string {\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n}\n\n/**\n * Hook to access the Forms SDK\n */\nexport function useFormsSDK(): FormsSDK {\n  const context = useContext(FormsContext);\n  if (!context) {\n    throw new Error('useFormsSDK must be used within a FormsProvider');\n  }\n  return context.sdk;\n}\n\nexport interface UseFormOptions {\n  /** Form slug */\n  slug: string;\n  /** SDK config (if not using provider) */\n  config?: FormsSDKConfig;\n  /** Track form views for analytics (completion rate). Default: false for SDK usage, pass true to enable. */\n  trackViews?: boolean;\n  /** Success callback */\n  onSuccess?: (response: SubmissionResponse) => void;\n  /** Error callback */\n  onError?: (error: Error) => void;\n  /** Validation error callback */\n  onValidationError?: (errors: ValidationError[]) => void;\n  /** Auto-initialize on mount */\n  autoInit?: boolean;\n  /** Language code to pass to backend */\n  lang?: string;\n}\n\nexport interface UseFormReturn {\n  /** Form configuration */\n  config: FormStatusResponse | null;\n  /** Form schema (shorthand for config.schema) */\n  schema: FormStatusResponse['schema'] | null;\n  /** Whether form is loading */\n  isLoading: boolean;\n  /** Whether form is initializing */\n  isInitializing: boolean;\n  /** Whether form was submitted successfully */\n  isSubmitted: boolean;\n  /** Alias for isSubmitted */\n  isSuccess: boolean;\n  /** Validation errors by field name */\n  errors: Record<string, string>;\n  /** File validation errors */\n  fileErrors: FileValidationError[];\n  /** Last submission error (if any) */\n  error: Error | null;\n  /** Form values */\n  values: Record<string, unknown>;\n  /** Upload progress (when uploading files) */\n  uploadProgress: UploadProgress | null;\n  /** Initialize the form */\n  initialize: () => Promise<FormStatusResponse>;\n  /** Set a field value */\n  setValue: (name: string, value: unknown) => void;\n  /** Set multiple values */\n  setValues: (values: Record<string, unknown>) => void;\n  /** Validate form data */\n  validate: () => Promise<boolean>;\n  /** Validate files against form settings */\n  validateFiles: (files: File[]) => FileValidationError[];\n  /** Submit the form */\n  submit: (captchaToken?: string) => Promise<SubmissionResponse | null>;\n  /** Reset form to initial state */\n  reset: () => void;\n  /** Clear errors */\n  clearErrors: () => void;\n  /** Whether captcha is required */\n  requiresCaptcha: boolean;\n  /** Captcha provider */\n  captchaProvider: 'turnstile' | 'recaptcha' | 'hcaptcha' | undefined;\n  /** Captcha site key */\n  captchaSiteKey: string | undefined;\n  /** Whether honeypot is enabled */\n  honeypotEnabled: boolean;\n  /** Whether attachments are allowed */\n  allowsAttachments: boolean;\n  /** Max attachments allowed */\n  maxAttachments: number;\n  /** Max attachment size in bytes */\n  maxAttachmentSize: number;\n}\n\n/**\n * Hook for managing form state and submission\n */\nexport function useForm(options: UseFormOptions): UseFormReturn {\n  const context = useContext(FormsContext);\n  \n  // Create SDK if config provided, otherwise use context\n  const sdk = useMemo(() => {\n    if (options.config) {\n      return new FormsSDK(options.config);\n    }\n    if (!context) {\n      throw new Error('Either provide config to useForm or use FormsProvider');\n    }\n    return context.sdk;\n  }, [options.config, context]);\n\n  const [config, setConfig] = useState<FormStatusResponse | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isInitializing, setIsInitializing] = useState(false);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n  const [fileErrors, setFileErrors] = useState<FileValidationError[]>([]);\n  const [values, setValues] = useState<Record<string, unknown>>({});\n  const [error, setError] = useState<Error | null>(null);\n  const [uploadProgress, setUploadProgress] = useState<UploadProgress | null>(null);\n\n  const initialize = useCallback(async () => {\n    setIsInitializing(true);\n    try {\n      const formConfig = await sdk.isActive(options.slug, options.lang);\n      setConfig(formConfig);\n      if (options.trackViews) {\n        sdk.trackView(options.slug);\n      }\n      return formConfig;\n    } finally {\n      setIsInitializing(false);\n    }\n  }, [sdk, options.slug, options.trackViews, options.lang]);\n\n  // Auto-initialize\n  useEffect(() => {\n    if (options.autoInit !== false) {\n      initialize();\n    }\n  }, [initialize, options.autoInit]);\n\n  const setValue = useCallback((name: string, value: unknown) => {\n    setValues((prev) => ({ ...prev, [name]: value }));\n    // Clear error on change\n    setErrors((prev) => {\n      if (prev[name]) {\n        const { [name]: _, ...rest } = prev;\n        return rest;\n      }\n      return prev;\n    });\n  }, []);\n\n  const setValuesHandler = useCallback((newValues: Record<string, unknown>) => {\n    setValues((prev) => ({ ...prev, ...newValues }));\n  }, []);\n\n  const validate = useCallback(async () => {\n    const result = await sdk.validate(options.slug, values);\n    if (!result.valid) {\n      const errorMap = result.errors.reduce(\n        (acc, err) => ({ ...acc, [err.field]: err.message }),\n        {}\n      );\n      setErrors(errorMap);\n    }\n    return result.valid;\n  }, [sdk, options.slug, values]);\n\n  const submit = useCallback(\n    async (captchaToken?: string) => {\n      setIsLoading(true);\n      setErrors({});\n      setFileErrors([]);\n      setError(null);\n      setUploadProgress(null);\n\n      try {\n        // Add honeypot field if enabled\n        const submitData = config?.settings?.honeypot\n          ? { ...values, _hp: '' }\n          : values;\n\n        const response = await sdk.submit(options.slug, submitData, {\n          captchaToken,\n          onProgress: setUploadProgress,\n        });\n        setIsSubmitted(true);\n        options.onSuccess?.(response);\n        return response;\n      } catch (err) {\n        if (err instanceof FormValidationError) {\n          const errorMap = err.errors.reduce(\n            (acc, e) => ({ ...acc, [e.field]: e.message }),\n            {}\n          );\n          setErrors(errorMap);\n          options.onValidationError?.(err.errors);\n        } else {\n          setError(err as Error);\n          options.onError?.(err as Error);\n        }\n        return null;\n      } finally {\n        setIsLoading(false);\n        setUploadProgress(null);\n      }\n    },\n    [sdk, options, values]\n  );\n\n  const reset = useCallback(() => {\n    setValues({});\n    setErrors({});\n    setFileErrors([]);\n    setError(null);\n    setIsSubmitted(false);\n    setIsLoading(false);\n    setUploadProgress(null);\n  }, []);\n\n  const clearErrors = useCallback(() => {\n    setErrors({});\n    setFileErrors([]);\n  }, []);\n\n  // File validation\n  const validateFiles = useCallback((files: File[]): FileValidationError[] => {\n    const errors: FileValidationError[] = [];\n    const maxSize = config?.settings?.maxAttachmentSize ?? 10 * 1024 * 1024; // 10MB default\n    const maxCount = config?.settings?.maxAttachments ?? 5;\n\n    if (files.length > maxCount) {\n      errors.push({\n        field: 'attachments',\n        file: '',\n        error: 'count',\n        message: `Maximum ${maxCount} files allowed`,\n      });\n    }\n\n    files.forEach((file) => {\n      if (file.size > maxSize) {\n        errors.push({\n          field: 'attachments',\n          file: file.name,\n          error: 'size',\n          message: `File \"${file.name}\" exceeds maximum size of ${formatBytes(maxSize)}`,\n        });\n      }\n    });\n\n    setFileErrors(errors);\n    return errors;\n  }, [config?.settings?.maxAttachmentSize, config?.settings?.maxAttachments]);\n\n  const allowsAttachments = config?.settings?.allowAttachments ?? false;\n  const maxAttachments = config?.settings?.maxAttachments ?? 5;\n  const maxAttachmentSize = config?.settings?.maxAttachmentSize ?? 10 * 1024 * 1024;\n\n  return {\n    config,\n    schema: config?.schema ?? null,\n    isLoading,\n    isInitializing,\n    isSubmitted,\n    isSuccess: isSubmitted,\n    errors,\n    fileErrors,\n    error,\n    values,\n    uploadProgress,\n    initialize,\n    setValue,\n    setValues: setValuesHandler,\n    validate,\n    validateFiles,\n    submit,\n    reset,\n    clearErrors,\n    requiresCaptcha: config?.captcha?.enabled ?? config?.settings?.captcha?.enabled ?? false,\n    captchaProvider: config?.captcha?.provider ?? config?.settings?.captcha?.provider,\n    captchaSiteKey: config?.captcha?.siteKey ?? config?.settings?.captcha?.siteKey,\n    honeypotEnabled: config?.settings?.honeypot ?? false,\n    allowsAttachments,\n    maxAttachments,\n    maxAttachmentSize,\n  };\n}\n","/**\n * Form field types\n */\nexport type BasicFieldType =\n  | 'text' | 'email' | 'number' | 'textarea' | 'select'\n  | 'checkbox' | 'file' | 'date' | 'hidden';\n\nexport type InteractiveFieldType =\n  | 'radio' | 'multiselect' | 'rating' | 'scale' | 'toggle'\n  | 'ranking' | 'imageChoice' | 'phone' | 'url' | 'password'\n  | 'richText' | 'slider' | 'currency' | 'time' | 'datetime'\n  | 'dateRange' | 'address' | 'name' | 'dropdown' | 'colorPicker'\n  | 'location' | 'opinionScale' | 'consent';\n\nexport type LayoutFieldType = 'heading' | 'divider' | 'paragraph';\n\nexport type FormFieldType = BasicFieldType | InteractiveFieldType | LayoutFieldType;\n\nexport interface FormFieldOption {\n  label: string;\n  value: string;\n  imageUrl?: string;\n}\n\n/**\n * Form field definition\n */\nexport interface FormField {\n  name: string;\n  type: FormFieldType;\n  label?: string;\n  placeholder?: string;\n  required?: boolean;\n  options?: string[] | FormFieldOption[];\n  defaultValue?: unknown;\n  maxFileSize?: number;\n  allowedMimeTypes?: string[];\n  multiple?: boolean;\n  min?: number;\n  max?: number;\n  step?: number;\n  ratingMax?: number;\n  lowLabel?: string;\n  highLabel?: string;\n  defaultCountryCode?: string;\n  currencyCode?: string;\n  currencySymbol?: string;\n  addressFields?: ('street' | 'street2' | 'city' | 'state' | 'zip' | 'country')[];\n  nameFields?: ('prefix' | 'first' | 'middle' | 'last' | 'suffix')[];\n  content?: string;\n  paragraphFontSize?: number;\n  consentText?: string;\n  consentUrl?: string;\n  maxLength?: number;\n  stepId?: string;\n  visibleWhen?: {\n    field: string;\n    operator: 'eq' | 'neq' | 'contains' | 'gt' | 'lt';\n    value: unknown;\n  };\n}\n\n/**\n * Form styling configuration\n */\nexport interface FormStyling {\n  theme: 'light' | 'dark' | 'system';\n  primaryColor: string;\n  backgroundColor: string;\n  textColor: string;\n  errorColor?: string;\n  successColor?: string;\n  borderRadius: 'none' | 'sm' | 'md' | 'lg';\n  fontSize: 'sm' | 'md' | 'lg';\n  buttonStyle: 'filled' | 'outline';\n  labelPosition: 'top' | 'left' | 'floating';\n  customCss?: string;\n  // Extended styling (matching hosted form builder)\n  fontFamily?: string;\n  formWidth?: 'narrow' | 'medium' | 'wide' | 'full';\n  fieldLayout?: 'stacked' | 'inline';\n  buttonColor?: string;\n  buttonText?: string;\n  buttonRadius?: 'none' | 'small' | 'medium' | 'large' | 'full';\n  buttonAlign?: 'left' | 'center' | 'right';\n  fieldSpacing?: 'compact' | 'normal' | 'relaxed' | 'spacious';\n  formPadding?: 'compact' | 'normal' | 'relaxed' | 'spacious';\n  labelSpacing?: 'compact' | 'normal' | 'relaxed';\n  placeholderFontSize?: 'small' | 'medium' | 'large';\n  headingSize?: 'small' | 'medium' | 'large' | 'extra-large';\n  paragraphSize?: 'small' | 'medium' | 'large';\n  hideRequiredAsterisk?: boolean;\n  logoUrl?: string;\n  logoPosition?: 'top-left' | 'top-center' | 'top-right';\n  coverImageUrl?: string;\n  backgroundImageUrl?: string;\n  backgroundOverlay?: number;\n  transparentBackground?: boolean;\n}\n\n/**\n * Form schema\n */\nexport interface FormSchema {\n  fields: FormField[];\n  styling?: FormStyling;\n}\n\n/**\n * Form captcha settings\n */\nexport interface CaptchaSettings {\n  enabled: boolean;\n  provider?: 'turnstile' | 'recaptcha' | 'hcaptcha';\n  siteKey?: string;\n}\n\n/**\n * Form branding configuration\n */\nexport interface FormBranding {\n  enabled: boolean;\n  text?: string;\n  url?: string;\n}\n\n/**\n * Form status response from API\n */\nexport interface FormStatusResponse {\n  active: boolean;\n  formId?: string;\n  name?: string;\n  description?: string | null;\n  mode?: 'free' | 'schema';\n  type?: 'hosted' | 'embed' | 'both';\n  layout?: 'single' | 'multi-step';\n  schema?: FormSchema;\n  steps?: Array<{ title: string; description?: string; fields: string[] }>;\n  /** Top-level styling (full hosted styling config) */\n  styling?: FormStyling;\n  embedConfig?: {\n    width?: string;\n    height?: string;\n    maxHeight?: string;\n    minHeight?: string;\n    autoResize?: boolean;\n    transparentBackground?: boolean;\n    [key: string]: unknown;\n  };\n  error?: string;\n  /** Captcha settings (top-level) */\n  captcha?: CaptchaSettings;\n  settings?: {\n    /** @deprecated Use top-level captcha instead */\n    captcha?: CaptchaSettings;\n    honeypot: boolean;\n    allowAttachments: boolean;\n    maxAttachments?: number;\n    maxAttachmentSize?: number;\n    successMessage?: string;\n    redirectUrl?: string;\n  };\n  /** Access control configuration */\n  accessControl?: {\n    mode: string;\n    passwordProtected: boolean;\n  };\n  /** Branding configuration */\n  branding?: FormBranding;\n  /** Hosted config (page settings, success page, etc.) */\n  hostedConfig?: {\n    pageTitle?: string;\n    showFormName?: boolean;\n    successMessage?: string;\n    successPageType?: 'message' | 'redirect' | 'custom';\n    redirectUrl?: string;\n    customSuccessHtml?: string;\n    [key: string]: unknown;\n  };\n  closesAt?: string | null;\n  resourceId?: string;\n  /** Available published translation language codes */\n  availableLanguages?: string[];\n  /** Current language applied to this response (null if base language) */\n  currentLanguage?: string | null;\n  /** Whether to show language switch UI */\n  showLanguageSwitch?: boolean;\n}\n\n/**\n * Validation error\n */\nexport interface ValidationError {\n  field: string;\n  message: string;\n}\n\n/**\n * Validation response from API\n */\nexport interface ValidationResponse {\n  valid: boolean;\n  errors: ValidationError[];\n}\n\n/**\n * Submission response from API\n */\nexport interface SubmissionResponse {\n  success: boolean;\n  submissionId: string;\n  message: string;\n}\n\n/**\n * Submit options\n */\nexport interface SubmitOptions {\n  pageUrl?: string;\n  captchaToken?: string;\n  /** Callback for upload progress */\n  onProgress?: (progress: UploadProgress) => void;\n}\n\n/**\n * Upload progress information\n */\nexport interface UploadProgress {\n  loaded: number;\n  total: number;\n  percentage: number;\n}\n\n/**\n * File validation error\n */\nexport interface FileValidationError {\n  field: string;\n  file: string;\n  error: 'size' | 'type' | 'count';\n  message: string;\n}\n\n/**\n * SDK configuration\n */\nexport interface FormsSDKConfig {\n  apiKey: string;\n  resourceId: string;\n  baseUrl?: string;\n}\n\n/**\n * Form handler options\n */\nexport interface FormHandlerOptions {\n  /** Track form views for analytics (completion rate) */\n  trackViews?: boolean;\n  onSubmitStart?: () => void;\n  onSubmitSuccess?: (response: SubmissionResponse) => void;\n  onSubmitError?: (error: FormsError) => void;\n  onValidationError?: (errors: ValidationError[]) => void;\n}\n\n/**\n * Forms SDK error\n */\nexport class FormsError extends Error {\n  constructor(\n    message: string,\n    public code: string,\n    public statusCode: number,\n    public retryAfter?: number\n  ) {\n    super(message);\n    this.name = 'FormsError';\n  }\n}\n\n/**\n * Validation error class\n */\nexport class FormValidationError extends Error {\n  constructor(public errors: ValidationError[]) {\n    super('Validation failed');\n    this.name = 'FormValidationError';\n  }\n}\n","import {\n  FormsSDKConfig,\n  FormStatusResponse,\n  ValidationResponse,\n  SubmissionResponse,\n  SubmitOptions,\n  FormsError,\n  UploadProgress,\n} from './types';\n\n/**\n * API client for forms backend\n */\nexport class FormsApiClient {\n  private baseUrl: string;\n  private apiKey: string;\n  private resourceId: string;\n\n  constructor(config: FormsSDKConfig) {\n    this.apiKey = config.apiKey;\n    this.resourceId = config.resourceId;\n    this.baseUrl = (config.baseUrl || 'https://api.forms.expert/api/v1').replace(/\\/$/, '');\n  }\n\n  /**\n   * Build URL with token query parameter\n   */\n  private buildUrl(path: string): string {\n    const separator = path.includes('?') ? '&' : '?';\n    return `${this.baseUrl}${path}${separator}token=${encodeURIComponent(this.apiKey)}`;\n  }\n\n  /**\n   * Make an API request\n   */\n  private async request<T>(\n    method: string,\n    path: string,\n    body?: object\n  ): Promise<T> {\n    const url = this.buildUrl(path);\n\n    const response = await fetch(url, {\n      method,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: body ? JSON.stringify(body) : undefined,\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      throw new FormsError(\n        data.message || 'Request failed',\n        data.code || 'UNKNOWN_ERROR',\n        response.status,\n        data.retryAfter\n      );\n    }\n\n    return data;\n  }\n\n  /**\n   * Check if form is active and get configuration\n   */\n  async isActive(slug: string, lang?: string): Promise<FormStatusResponse> {\n    const langParam = lang ? `?lang=${encodeURIComponent(lang)}` : '';\n    return this.request('GET', `/f/${this.resourceId}/${slug}/is-active${langParam}`);\n  }\n\n  /**\n   * Validate form data without submitting\n   */\n  async validate(\n    slug: string,\n    data: Record<string, unknown>\n  ): Promise<ValidationResponse> {\n    return this.request('POST', `/f/${this.resourceId}/${slug}/validate`, {\n      data,\n    });\n  }\n\n  /**\n   * Submit form data (supports files)\n   */\n  async submit(\n    slug: string,\n    data: Record<string, unknown>,\n    options?: SubmitOptions\n  ): Promise<SubmissionResponse> {\n    const url = this.buildUrl(`/f/${this.resourceId}/${slug}`);\n    \n    // Check if data contains files\n    const hasFiles = Object.values(data).some(\n      (v) => v instanceof File || (v instanceof FileList && v.length > 0)\n    );\n\n    if (hasFiles || options?.onProgress) {\n      // Use FormData and XMLHttpRequest for file uploads with progress\n      return this.submitWithFormData(url, data, options);\n    }\n\n    // Use regular JSON request for non-file submissions\n    return this.request('POST', `/f/${this.resourceId}/${slug}`, {\n      data,\n      pageUrl: options?.pageUrl || (typeof window !== 'undefined' ? window.location.href : undefined),\n      captchaToken: options?.captchaToken,\n    });\n  }\n\n  /**\n   * Submit with FormData (for file uploads with progress tracking)\n   */\n  private submitWithFormData(\n    url: string,\n    data: Record<string, unknown>,\n    options?: SubmitOptions\n  ): Promise<SubmissionResponse> {\n    return new Promise((resolve, reject) => {\n      const formData = new FormData();\n\n      // Add data fields\n      for (const [key, value] of Object.entries(data)) {\n        if (value instanceof File) {\n          formData.append(key, value);\n        } else if (value instanceof FileList) {\n          Array.from(value).forEach((file) => formData.append(key, file));\n        } else if (value !== undefined && value !== null) {\n          formData.append(`data[${key}]`, String(value));\n        }\n      }\n\n      // Add metadata\n      const pageUrl = options?.pageUrl || (typeof window !== 'undefined' ? window.location.href : '');\n      if (pageUrl) {\n        formData.append('pageUrl', pageUrl);\n      }\n      if (options?.captchaToken) {\n        formData.append('captchaToken', options.captchaToken);\n      }\n\n      const xhr = new XMLHttpRequest();\n\n      // Progress tracking\n      if (options?.onProgress) {\n        xhr.upload.addEventListener('progress', (event) => {\n          if (event.lengthComputable) {\n            options.onProgress!({\n              loaded: event.loaded,\n              total: event.total,\n              percentage: Math.round((event.loaded / event.total) * 100),\n            });\n          }\n        });\n      }\n\n      xhr.addEventListener('load', () => {\n        try {\n          const response = JSON.parse(xhr.responseText);\n          if (xhr.status >= 200 && xhr.status < 300) {\n            resolve(response);\n          } else {\n            reject(new FormsError(\n              response.message || 'Submission failed',\n              response.code || 'UNKNOWN_ERROR',\n              xhr.status,\n              response.retryAfter\n            ));\n          }\n        } catch {\n          reject(new FormsError('Invalid response', 'PARSE_ERROR', xhr.status));\n        }\n      });\n\n      xhr.addEventListener('error', () => {\n        reject(new FormsError('Network error', 'NETWORK_ERROR', 0));\n      });\n\n      xhr.addEventListener('abort', () => {\n        reject(new FormsError('Request aborted', 'ABORTED', 0));\n      });\n\n      xhr.open('POST', url);\n      xhr.send(formData);\n    });\n  }\n\n  /**\n   * Track a form view (for analytics completion rate)\n   */\n  async trackView(slug: string): Promise<void> {\n    const url = this.buildUrl(`/f/${this.resourceId}/${slug}/view`);\n    await fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' } }).catch(() => {});\n  }\n\n  /**\n   * Get resource ID\n   */\n  getResourceId(): string {\n    return this.resourceId;\n  }\n\n  /**\n   * Get base URL\n   */\n  getBaseUrl(): string {\n    return this.baseUrl;\n  }\n}\n","import { FormsApiClient } from './api-client';\nimport {\n  FormsSDKConfig,\n  FormStatusResponse,\n  ValidationResponse,\n  SubmissionResponse,\n  SubmitOptions,\n  FormHandlerOptions,\n  FormsError,\n  FormValidationError,\n} from './types';\n\n/**\n * Form handler for a specific form\n */\nexport class FormHandler {\n  private apiClient: FormsApiClient;\n  private slug: string;\n  private config: FormStatusResponse | null = null;\n  private options: FormHandlerOptions;\n\n  constructor(\n    apiClient: FormsApiClient,\n    slug: string,\n    options: FormHandlerOptions = {}\n  ) {\n    this.apiClient = apiClient;\n    this.slug = slug;\n    this.options = options;\n  }\n\n  /**\n   * Initialize form handler and fetch configuration\n   */\n  async initialize(lang?: string): Promise<FormStatusResponse> {\n    this.config = await this.apiClient.isActive(this.slug, lang);\n    if (this.options.trackViews) {\n      this.apiClient.trackView(this.slug);\n    }\n    return this.config;\n  }\n\n  /**\n   * Get cached form configuration\n   */\n  getConfig(): FormStatusResponse | null {\n    return this.config;\n  }\n\n  /**\n   * Check if form is active\n   */\n  isActive(): boolean {\n    return this.config?.active ?? false;\n  }\n\n  /**\n   * Check if captcha is required\n   */\n  requiresCaptcha(): boolean {\n    return this.config?.settings?.captcha?.enabled ?? false;\n  }\n\n  /**\n   * Get captcha provider\n   */\n  getCaptchaProvider(): 'turnstile' | 'recaptcha' | 'hcaptcha' | undefined {\n    return this.config?.settings?.captcha?.provider;\n  }\n\n  /**\n   * Get form schema\n   */\n  getSchema() {\n    return this.config?.schema;\n  }\n\n  /**\n   * Validate form data\n   */\n  async validate(data: Record<string, unknown>): Promise<ValidationResponse> {\n    return this.apiClient.validate(this.slug, data);\n  }\n\n  /**\n   * Submit form data\n   */\n  async submit(\n    data: Record<string, unknown>,\n    options?: SubmitOptions\n  ): Promise<SubmissionResponse> {\n    this.options.onSubmitStart?.();\n\n    try {\n      // Validate first if in schema mode\n      if (this.config?.mode === 'schema') {\n        const validation = await this.validate(data);\n        if (!validation.valid) {\n          this.options.onValidationError?.(validation.errors);\n          throw new FormValidationError(validation.errors);\n        }\n      }\n\n      const response = await this.apiClient.submit(this.slug, data, options);\n      this.options.onSubmitSuccess?.(response);\n      return response;\n    } catch (error) {\n      if (error instanceof FormsError) {\n        this.options.onSubmitError?.(error);\n      }\n      throw error;\n    }\n  }\n\n  /**\n   * Get success message from config\n   */\n  getSuccessMessage(): string {\n    return this.config?.settings?.successMessage || 'Form submitted successfully!';\n  }\n\n  /**\n   * Get redirect URL from config\n   */\n  getRedirectUrl(): string | undefined {\n    return this.config?.settings?.redirectUrl;\n  }\n}\n\n/**\n * Main Forms SDK class\n */\nexport class FormsSDK {\n  private apiClient: FormsApiClient;\n\n  constructor(config: FormsSDKConfig) {\n    this.apiClient = new FormsApiClient(config);\n  }\n\n  /**\n   * Check if form is active and get configuration\n   */\n  async isActive(slug: string, lang?: string): Promise<FormStatusResponse> {\n    return this.apiClient.isActive(slug, lang);\n  }\n\n  /**\n   * Validate form data without submitting\n   */\n  async validate(\n    slug: string,\n    data: Record<string, unknown>\n  ): Promise<ValidationResponse> {\n    return this.apiClient.validate(slug, data);\n  }\n\n  /**\n   * Submit form data\n   */\n  async submit(\n    slug: string,\n    data: Record<string, unknown>,\n    options?: SubmitOptions\n  ): Promise<SubmissionResponse> {\n    return this.apiClient.submit(slug, data, options);\n  }\n\n  /**\n   * Create a form handler for a specific form\n   */\n  form(slug: string, options?: FormHandlerOptions): FormHandler {\n    return new FormHandler(this.apiClient, slug, options);\n  }\n\n  /**\n   * Track a form view (for analytics completion rate)\n   */\n  async trackView(slug: string): Promise<void> {\n    return this.apiClient.trackView(slug);\n  }\n\n  /**\n   * Submit with retry logic for rate limits\n   */\n  async submitWithRetry(\n    slug: string,\n    data: Record<string, unknown>,\n    options?: SubmitOptions & { maxRetries?: number }\n  ): Promise<SubmissionResponse> {\n    const maxRetries = options?.maxRetries ?? 3;\n    let lastError: Error | null = null;\n\n    for (let attempt = 0; attempt < maxRetries; attempt++) {\n      try {\n        return await this.submit(slug, data, options);\n      } catch (error) {\n        lastError = error as Error;\n\n        if (error instanceof FormsError) {\n          // Don't retry validation or auth errors\n          if (\n            [\n              'VALIDATION_ERROR',\n              'CAPTCHA_REQUIRED',\n              'ORIGIN_NOT_ALLOWED',\n            ].includes(error.code)\n          ) {\n            throw error;\n          }\n\n          // Retry rate limits with backoff\n          if (error.code.includes('RATE_LIMIT')) {\n            const retryAfter = error.retryAfter || Math.pow(2, attempt) * 1000;\n            await new Promise((resolve) => setTimeout(resolve, retryAfter));\n            continue;\n          }\n        }\n\n        // Exponential backoff for network errors\n        await new Promise((resolve) =>\n          setTimeout(resolve, Math.pow(2, attempt) * 1000)\n        );\n      }\n    }\n\n    throw lastError!;\n  }\n}\n","import { useState, useEffect, useRef, FormEvent, ChangeEvent, CSSProperties } from 'react';\nimport {\n  FormsSDKConfig,\n  FormField,\n  FormStyling,\n  SubmissionResponse,\n  ValidationError,\n} from '../core';\nimport { useForm, UseFormOptions } from './use-form';\n\nconst defaultStyling: FormStyling = {\n  theme: 'light',\n  primaryColor: '#3b82f6',\n  backgroundColor: '#ffffff',\n  textColor: '#1f2937',\n  borderRadius: 'md',\n  fontSize: 'md',\n  buttonStyle: 'filled',\n  labelPosition: 'top',\n};\n\nfunction getBorderRadius(radius: FormStyling['borderRadius']): string {\n  switch (radius) {\n    case 'none': return '0';\n    case 'sm': return '0.125rem';\n    case 'md': return '0.375rem';\n    case 'lg': return '0.5rem';\n    default: return '0.375rem';\n  }\n}\n\nfunction getButtonRadius(radius?: FormStyling['buttonRadius']): string {\n  switch (radius) {\n    case 'none': return '0';\n    case 'small': return '4px';\n    case 'medium': return '8px';\n    case 'large': return '12px';\n    case 'full': return '9999px';\n    default: return '8px';\n  }\n}\n\nfunction getFontSize(size: FormStyling['fontSize']): string {\n  switch (size) {\n    case 'sm': return '0.875rem';\n    case 'md': return '1rem';\n    case 'lg': return '1.125rem';\n    default: return '1rem';\n  }\n}\n\nfunction getPlaceholderFontSize(size?: FormStyling['placeholderFontSize']): string {\n  switch (size) {\n    case 'small': return '0.75rem';\n    case 'large': return '1rem';\n    default: return '0.875rem';\n  }\n}\n\nfunction getFieldSpacing(spacing?: FormStyling['fieldSpacing']): string {\n  switch (spacing) {\n    case 'compact': return '0.5rem';\n    case 'relaxed': return '1.5rem';\n    case 'spacious': return '2rem';\n    default: return '1rem';\n  }\n}\n\nfunction getFormPadding(padding?: FormStyling['formPadding']): string {\n  switch (padding) {\n    case 'compact': return '1rem';\n    case 'relaxed': return '2.5rem';\n    case 'spacious': return '3.5rem';\n    default: return '1.5rem';\n  }\n}\n\nfunction getLabelSpacing(spacing?: FormStyling['labelSpacing']): string {\n  switch (spacing) {\n    case 'compact': return '0.125rem';\n    case 'relaxed': return '0.75rem';\n    default: return '0.25rem';\n  }\n}\n\nfunction getFormMaxWidth(width?: FormStyling['formWidth']): string {\n  switch (width) {\n    case 'narrow': return '28rem';\n    case 'wide': return '48rem';\n    case 'full': return '100%';\n    default: return '36rem';\n  }\n}\n\nfunction getButtonAlign(align?: FormStyling['buttonAlign']): string {\n  switch (align) {\n    case 'left': return 'flex-start';\n    case 'right': return 'flex-end';\n    default: return 'center';\n  }\n}\n\nfunction getHeadingSize(size?: FormStyling['headingSize']): string {\n  switch (size) {\n    case 'small': return '1.125rem';\n    case 'large': return '1.875rem';\n    case 'extra-large': return '2.25rem';\n    default: return '1.5rem';\n  }\n}\n\nfunction getParagraphSize(size?: FormStyling['paragraphSize']): string {\n  switch (size) {\n    case 'small': return '0.875rem';\n    case 'large': return '1.125rem';\n    default: return '1rem';\n  }\n}\n\ninterface FormsExpertFormProps {\n  /** SDK configuration (optional if using FormsProvider) */\n  config?: FormsSDKConfig;\n  /** Form slug */\n  slug: string;\n  /** Track form views for analytics (completion rate). Default: false */\n  trackViews?: boolean;\n  /** Custom submit button text */\n  submitText?: string;\n  /** Success callback */\n  onSuccess?: (response: SubmissionResponse) => void;\n  /** Error callback */\n  onError?: (error: Error) => void;\n  /** Validation error callback */\n  onValidationError?: (errors: ValidationError[]) => void;\n  /** Custom class name */\n  className?: string;\n  /** Custom styles */\n  style?: CSSProperties;\n  /** Language code to pass to backend */\n  lang?: string;\n}\n\n/**\n * Forms Expert form component\n */\nexport function FormsExpertForm({\n  config,\n  slug,\n  trackViews,\n  submitText = 'Submit',\n  onSuccess,\n  onError,\n  onValidationError,\n  className,\n  style,\n  lang,\n}: FormsExpertFormProps) {\n  const form = useForm({\n    slug,\n    config,\n    trackViews,\n    onSuccess,\n    onError,\n    onValidationError,\n    autoInit: true,\n    lang,\n  });\n\n  const [captchaToken, setCaptchaToken] = useState<string | null>(null);\n  const captchaContainerRef = useRef<HTMLDivElement>(null);\n  const captchaWidgetId = useRef<string | null>(null);\n  const captchaScriptLoaded = useRef(false);\n\n  // Load captcha script and render widget\n  useEffect(() => {\n    if (!form.requiresCaptcha || !form.captchaSiteKey || !form.captchaProvider) return;\n    if (captchaScriptLoaded.current) return;\n\n    const provider = form.captchaProvider;\n    const siteKey = form.captchaSiteKey;\n\n    const renderWidget = () => {\n      if (!captchaContainerRef.current) return;\n\n      const w = window as any;\n      if (provider === 'turnstile' && w.turnstile) {\n        captchaWidgetId.current = w.turnstile.render(captchaContainerRef.current, {\n          sitekey: siteKey,\n          callback: (token: string) => setCaptchaToken(token),\n          'expired-callback': () => setCaptchaToken(null),\n          'error-callback': () => setCaptchaToken(null),\n        });\n      } else if (provider === 'hcaptcha' && w.hcaptcha) {\n        captchaWidgetId.current = w.hcaptcha.render(captchaContainerRef.current, {\n          sitekey: siteKey,\n          callback: (token: string) => setCaptchaToken(token),\n          'expired-callback': () => setCaptchaToken(null),\n          'error-callback': () => setCaptchaToken(null),\n        });\n      } else if (provider === 'recaptcha' && w.grecaptcha) {\n        // reCAPTCHA v3 — execute immediately, no visible widget\n        w.grecaptcha.ready(() => {\n          w.grecaptcha.execute(siteKey, { action: 'submit' }).then((token: string) => {\n            setCaptchaToken(token);\n          });\n        });\n      }\n    };\n\n    // Check if script already loaded\n    const w = window as any;\n    if (\n      (provider === 'turnstile' && w.turnstile) ||\n      (provider === 'hcaptcha' && w.hcaptcha) ||\n      (provider === 'recaptcha' && w.grecaptcha)\n    ) {\n      captchaScriptLoaded.current = true;\n      renderWidget();\n      return;\n    }\n\n    // Load script\n    const script = document.createElement('script');\n    if (provider === 'turnstile') {\n      script.src = 'https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit';\n    } else if (provider === 'hcaptcha') {\n      script.src = 'https://js.hcaptcha.com/1/api.js?render=explicit';\n    } else if (provider === 'recaptcha') {\n      script.src = `https://www.google.com/recaptcha/api.js?render=${siteKey}`;\n    }\n    script.async = true;\n    script.defer = true;\n    script.onload = () => {\n      captchaScriptLoaded.current = true;\n      // Small delay for script initialization\n      setTimeout(renderWidget, 100);\n    };\n    document.head.appendChild(script);\n\n    return () => {\n      // Clean up widget on unmount\n      if (captchaWidgetId.current !== null) {\n        const w = window as any;\n        if (provider === 'turnstile' && w.turnstile) {\n          w.turnstile.remove(captchaWidgetId.current);\n        } else if (provider === 'hcaptcha' && w.hcaptcha) {\n          w.hcaptcha.reset(captchaWidgetId.current);\n        }\n      }\n    };\n  }, [form.requiresCaptcha, form.captchaProvider, form.captchaSiteKey]);\n\n  const resetCaptcha = () => {\n    setCaptchaToken(null);\n    if (captchaWidgetId.current !== null) {\n      const w = window as any;\n      if (form.captchaProvider === 'turnstile' && w.turnstile) {\n        w.turnstile.reset(captchaWidgetId.current);\n      } else if (form.captchaProvider === 'hcaptcha' && w.hcaptcha) {\n        w.hcaptcha.reset(captchaWidgetId.current);\n      } else if (form.captchaProvider === 'recaptcha' && w.grecaptcha) {\n        w.grecaptcha.execute(form.captchaSiteKey, { action: 'submit' }).then((token: string) => {\n          setCaptchaToken(token);\n        });\n      }\n    }\n  };\n\n  const styling = { ...defaultStyling, ...form.config?.schema?.styling, ...form.config?.styling };\n  const radius = getBorderRadius(styling.borderRadius);\n  const btnRadius = getButtonRadius(styling.buttonRadius);\n  const fontSize = getFontSize(styling.fontSize);\n  const phFontSize = getPlaceholderFontSize(styling.placeholderFontSize);\n  const fieldSpacing = getFieldSpacing(styling.fieldSpacing);\n  const formPadding = getFormPadding(styling.formPadding);\n  const labelSpacing = getLabelSpacing(styling.labelSpacing);\n  const formMaxWidth = getFormMaxWidth(styling.formWidth);\n  const btnBgColor = styling.primaryColor;\n  const btnTextColor = styling.buttonColor;\n  const fontFamily = styling.fontFamily || 'system-ui, -apple-system, sans-serif';\n  const btnAlign = getButtonAlign(styling.buttonAlign);\n  const resolvedButtonText = styling.buttonText || submitText;\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    const result = await form.submit(captchaToken || undefined);\n    if (!result) {\n      // Reset captcha on failure\n      resetCaptcha();\n    }\n  };\n\n  const handleChange = (\n    e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>\n  ) => {\n    const { name, value, type } = e.target;\n    if (type === 'checkbox') {\n      form.setValue(name, (e.target as HTMLInputElement).checked);\n    } else if (type === 'file') {\n      form.setValue(name, (e.target as HTMLInputElement).files?.[0]);\n    } else {\n      form.setValue(name, value);\n    }\n  };\n\n  if (form.isInitializing) {\n    return (\n      <div\n        className={className}\n        style={{\n          padding: '2rem',\n          textAlign: 'center',\n          color: styling.textColor,\n          ...style,\n        }}\n      >\n        Loading form...\n      </div>\n    );\n  }\n\n  if (!form.config?.active) {\n    return (\n      <div\n        className={className}\n        style={{\n          padding: '2rem',\n          textAlign: 'center',\n          color: '#ef4444',\n          ...style,\n        }}\n      >\n        This form is not available\n      </div>\n    );\n  }\n\n  if (form.isSubmitted) {\n    return (\n      <div\n        className={className}\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          minHeight: '100%',\n          padding: formPadding,\n          textAlign: 'center',\n          backgroundColor: styling.transparentBackground ? 'transparent' : styling.backgroundColor,\n          color: styling.textColor,\n          borderRadius: radius,\n          maxWidth: formMaxWidth,\n          margin: '0 auto',\n          fontFamily,\n          ...style,\n        }}\n      >\n        <div>\n          <svg\n            style={{\n              width: '3rem',\n              height: '3rem',\n              margin: '0 auto 1rem',\n              color: styling.successColor || '#22c55e',\n            }}\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M5 13l4 4L19 7\"\n            />\n          </svg>\n          <p style={{ fontSize: '1.125rem', fontWeight: 500 }}>\n            {form.config.settings?.successMessage || 'Form submitted successfully!'}\n          </p>\n          <button\n            type=\"button\"\n            onClick={form.reset}\n            style={{\n              marginTop: '1rem',\n              background: 'none',\n              border: 'none',\n              color: styling.primaryColor,\n              textDecoration: 'underline',\n              cursor: 'pointer',\n              fontSize: '0.875rem',\n            }}\n          >\n            Submit again\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const fields = form.config.schema?.fields || [];\n  const showBranding = form.config.branding?.enabled !== false;\n  const brandingText = form.config.branding?.text || 'Powered by forms.expert';\n  const brandingUrl = form.config.branding?.url || 'https://forms.expert';\n\n  const wrapperStyle: CSSProperties = {\n    ...(styling.backgroundImageUrl ? {\n      backgroundImage: `url(${styling.backgroundImageUrl})`,\n      backgroundSize: 'cover',\n      backgroundPosition: 'center',\n    } : {}),\n    position: 'relative' as const,\n  };\n\n  const formEl = (\n    <form\n      onSubmit={handleSubmit}\n      className={className}\n      style={{\n        fontFamily,\n        fontSize,\n        backgroundColor: styling.transparentBackground ? 'transparent' : styling.backgroundColor,\n        color: styling.textColor,\n        padding: formPadding,\n        borderRadius: radius,\n        maxWidth: formMaxWidth,\n        width: '100%',\n        margin: '0 auto',\n        position: 'relative',\n        ...style,\n      }}\n    >\n      {/* Logo */}\n      {styling.logoUrl && (\n        <div style={{\n          textAlign: styling.logoPosition === 'top-left' ? 'left' : styling.logoPosition === 'top-right' ? 'right' : 'center',\n          marginBottom: '1rem',\n        }}>\n          <img src={styling.logoUrl} alt=\"\" style={{ maxHeight: '48px' }} />\n        </div>\n      )}\n\n      {/* Cover image */}\n      {styling.coverImageUrl && (\n        <img\n          src={styling.coverImageUrl}\n          alt=\"\"\n          style={{\n            width: '100%',\n            maxHeight: '200px',\n            objectFit: 'cover',\n            borderRadius: `${radius} ${radius} 0 0`,\n            marginBottom: '1rem',\n          }}\n        />\n      )}\n\n      {/* Form name */}\n      {(form.config.hostedConfig?.showFormName !== false) && form.config.name && (\n        <h1 style={{\n          fontSize: '1.5rem',\n          fontWeight: 700,\n          marginBottom: '0.5rem',\n          color: styling.textColor,\n        }}>\n          {form.config.hostedConfig?.pageTitle || form.config.name}\n        </h1>\n      )}\n\n      {fields.map((field) => (\n        <FormFieldInput\n          key={field.name}\n          field={field}\n          value={form.values[field.name]}\n          error={form.errors[field.name]}\n          onChange={handleChange}\n          onValueChange={(name, val) => form.setValue(name, val)}\n          styling={styling}\n          fieldSpacing={fieldSpacing}\n          labelSpacing={labelSpacing}\n          phFontSize={phFontSize}\n        />\n      ))}\n\n      {/* Honeypot field — hidden from users, catches bots */}\n      {form.honeypotEnabled && (\n        <div style={{ position: 'absolute', left: '-9999px', opacity: 0, height: 0, overflow: 'hidden' }} aria-hidden=\"true\">\n          <input type=\"text\" name=\"_hp\" tabIndex={-1} autoComplete=\"off\" />\n        </div>\n      )}\n\n      {/* Captcha widget */}\n      {form.requiresCaptcha && form.captchaProvider !== 'recaptcha' && (\n        <div ref={captchaContainerRef} style={{ marginTop: '1rem' }} />\n      )}\n\n      <div style={{ display: 'flex', justifyContent: btnAlign, marginTop: '1rem' }}>\n        <button\n          type=\"submit\"\n          disabled={form.isLoading}\n          style={{\n            ...(styling.buttonAlign ? {} : { width: '100%' }),\n            padding: '0.625rem 1.25rem',\n            fontWeight: 500,\n            fontSize,\n            fontFamily: 'inherit',\n            borderRadius: btnRadius,\n            cursor: form.isLoading ? 'not-allowed' : 'pointer',\n            opacity: form.isLoading ? 0.5 : 1,\n            backgroundColor:\n              styling.buttonStyle === 'filled' ? btnBgColor : 'transparent',\n            color:\n              styling.buttonStyle === 'filled'\n                ? (btnTextColor || 'white')\n                : btnBgColor,\n            border:\n              styling.buttonStyle === 'filled'\n                ? 'none'\n                : `2px solid ${btnBgColor}`,\n          }}\n        >\n          {form.isLoading ? 'Submitting...' : resolvedButtonText}\n        </button>\n      </div>\n\n      {showBranding && (\n        <div\n          style={{\n            textAlign: 'center',\n            marginTop: '1rem',\n            paddingTop: '0.75rem',\n            borderTop: `1px solid ${styling.theme === 'dark' ? '#374151' : '#e5e7eb'}`,\n          }}\n        >\n          <a\n            href={brandingUrl}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            style={{\n              color: styling.theme === 'dark' ? '#9ca3af' : '#6b7280',\n              textDecoration: 'none',\n              fontSize: '0.75rem',\n            }}\n          >\n            {brandingText}\n          </a>\n        </div>\n      )}\n    </form>\n  );\n\n  if (styling.backgroundImageUrl) {\n    return (\n      <div style={wrapperStyle}>\n        {styling.backgroundOverlay ? (\n          <div style={{\n            position: 'absolute',\n            inset: 0,\n            backgroundColor: `rgba(0,0,0,${styling.backgroundOverlay})`,\n            pointerEvents: 'none',\n          }} />\n        ) : null}\n        {formEl}\n      </div>\n    );\n  }\n\n  return formEl;\n}\n\ninterface FormFieldInputProps {\n  field: FormField;\n  value: unknown;\n  error?: string;\n  onChange: (e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => void;\n  onValueChange: (name: string, value: unknown) => void;\n  styling: FormStyling;\n  fieldSpacing: string;\n  labelSpacing: string;\n  phFontSize: string;\n}\n\nfunction FormFieldInput({\n  field,\n  value,\n  error,\n  onChange,\n  onValueChange,\n  styling,\n  fieldSpacing,\n  labelSpacing,\n  phFontSize,\n}: FormFieldInputProps) {\n  const radius = getBorderRadius(styling.borderRadius);\n  const fontSize = getFontSize(styling.fontSize);\n  const isInline = styling.labelPosition === 'left' || styling.fieldLayout === 'inline';\n\n  const inputStyle: CSSProperties = {\n    width: '100%',\n    padding: '0.5rem 0.75rem',\n    border: `1px solid ${error ? '#ef4444' : styling.theme === 'dark' ? '#4b5563' : '#d1d5db'}`,\n    borderRadius: radius,\n    fontSize,\n    fontFamily: 'inherit',\n    backgroundColor: styling.theme === 'dark' ? '#374151' : '#ffffff',\n    color: styling.textColor,\n  };\n\n  const getOpts = (): { value: string; label: string; imageUrl?: string }[] => {\n    if (!field.options) return [];\n    return field.options.map((o) => typeof o === 'string' ? { value: o, label: o } : o);\n  };\n\n  // Layout fields (no data)\n  if (field.type === 'heading') {\n    return (\n      <div style={{ marginBottom: fieldSpacing }}>\n        <h2 style={{ fontSize: getHeadingSize(styling.headingSize), fontWeight: 600 }}>{field.label}</h2>\n        {field.content && (\n          <p style={{ fontSize: '0.875rem', color: styling.theme === 'dark' ? '#9ca3af' : '#6b7280', marginTop: '0.25rem' }}>{field.content}</p>\n        )}\n      </div>\n    );\n  }\n  if (field.type === 'divider') {\n    return <hr style={{ marginBottom: fieldSpacing, border: 'none', borderTop: `1px solid ${styling.theme === 'dark' ? '#4b5563' : '#d1d5db'}` }} />;\n  }\n  if (field.type === 'paragraph') {\n    const pSize = field.paragraphFontSize ? `${field.paragraphFontSize}px` : getParagraphSize(styling.paragraphSize);\n    return (\n      <div style={{ marginBottom: fieldSpacing }}>\n        {field.label && (\n          <p style={{ fontWeight: 500, fontSize: pSize, marginBottom: '0.25rem' }}>{field.label}</p>\n        )}\n        {field.content && (\n          <div\n            style={{ fontSize: pSize, color: styling.theme === 'dark' ? '#9ca3af' : '#6b7280' }}\n            dangerouslySetInnerHTML={{ __html: field.content }}\n          />\n        )}\n      </div>\n    );\n  }\n  if (field.type === 'hidden') {\n    return <input type=\"hidden\" name={field.name} value={String(value || field.defaultValue || '')} />;\n  }\n\n  // Checkbox / toggle / consent — inline layout\n  if (field.type === 'checkbox' || field.type === 'toggle' || field.type === 'consent') {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: fieldSpacing }}>\n        <input\n          type=\"checkbox\"\n          id={field.name}\n          name={field.name}\n          checked={Boolean(value)}\n          onChange={onChange}\n          required={field.required}\n          style={{ width: '1rem', height: '1rem', accentColor: styling.primaryColor }}\n        />\n        <label htmlFor={field.name}>\n          {field.type === 'consent' && field.consentText\n            ? (field.consentUrl\n              ? <span>{field.consentText} <a href={field.consentUrl} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: styling.primaryColor }}>(link)</a></span>\n              : field.consentText)\n            : (field.label || field.name)}\n          {field.required && !styling.hideRequiredAsterisk && <span style={{ color: '#ef4444', marginLeft: '0.25rem' }}>*</span>}\n        </label>\n        {error && <span style={{ color: styling.errorColor || '#ef4444', fontSize: '0.875rem', marginLeft: '0.5rem' }}>{error}</span>}\n      </div>\n    );\n  }\n\n  const labelEl = (\n    <label\n      htmlFor={field.name}\n      style={{\n        display: 'block',\n        fontWeight: 500,\n        ...(isInline\n          ? { width: '33%', flexShrink: 0, paddingTop: '0.5rem', marginBottom: 0 }\n          : { marginBottom: labelSpacing }),\n      }}\n    >\n      {field.label || field.name}\n      {field.required && !styling.hideRequiredAsterisk && <span style={{ color: '#ef4444', marginLeft: '0.25rem' }}>*</span>}\n    </label>\n  );\n\n  const errorEl = error ? (\n    <div style={{ color: styling.errorColor || '#ef4444', fontSize: '0.875rem', marginTop: '0.25rem' }}>{error}</div>\n  ) : null;\n\n  let fieldEl: JSX.Element;\n\n  if (field.type === 'textarea' || field.type === 'richText') {\n    fieldEl = (\n      <textarea\n        id={field.name}\n        name={field.name}\n        value={String(value || '')}\n        onChange={onChange}\n        placeholder={field.placeholder}\n        required={field.required}\n        style={{ ...inputStyle, minHeight: '100px', resize: 'vertical' }}\n      />\n    );\n  } else if (field.type === 'select' || field.type === 'dropdown') {\n    fieldEl = (\n      <select id={field.name} name={field.name} value={String(value || '')} onChange={onChange} required={field.required} style={inputStyle}>\n        <option value=\"\">Select an option...</option>\n        {getOpts().map((opt) => <option key={opt.value} value={opt.value}>{opt.label}</option>)}\n      </select>\n    );\n  } else if (field.type === 'radio') {\n    fieldEl = (\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n        {getOpts().map((opt) => (\n          <label key={opt.value} style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer' }}>\n            <input\n              type=\"radio\"\n              name={field.name}\n              value={opt.value}\n              checked={(value as string) === opt.value}\n              onChange={() => onValueChange(field.name, opt.value)}\n              style={{ accentColor: styling.primaryColor }}\n            />\n            {opt.label}\n          </label>\n        ))}\n      </div>\n    );\n  } else if (field.type === 'multiselect') {\n    const selected = Array.isArray(value) ? (value as string[]) : [];\n    fieldEl = (\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n        {getOpts().map((opt) => (\n          <label key={opt.value} style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', cursor: 'pointer' }}>\n            <input\n              type=\"checkbox\"\n              checked={selected.includes(opt.value)}\n              onChange={() => {\n                const next = selected.includes(opt.value)\n                  ? selected.filter((v) => v !== opt.value)\n                  : [...selected, opt.value];\n                onValueChange(field.name, next);\n              }}\n              style={{ accentColor: styling.primaryColor }}\n            />\n            {opt.label}\n          </label>\n        ))}\n      </div>\n    );\n  } else if (field.type === 'rating') {\n    const max = field.ratingMax || 5;\n    const current = Number(value) || 0;\n    fieldEl = (\n      <div style={{ display: 'flex', gap: '0.25rem' }}>\n        {Array.from({ length: max }, (_, i) => i + 1).map((n) => (\n          <button\n            key={n}\n            type=\"button\"\n            onClick={() => onValueChange(field.name, n)}\n            style={{\n              width: '2rem', height: '2rem', cursor: 'pointer', border: 'none',\n              background: 'none', padding: 0, fontSize: '1.5rem',\n              color: n <= current ? '#f59e0b' : (styling.theme === 'dark' ? '#4b5563' : '#d1d5db'),\n              transition: 'color 0.15s',\n            }}\n          >★</button>\n        ))}\n      </div>\n    );\n  } else if (field.type === 'scale' || field.type === 'opinionScale') {\n    const min = field.min ?? 1;\n    const max = field.max ?? 10;\n    const current = value as number | undefined;\n    fieldEl = (\n      <div>\n        <div style={{ display: 'flex', gap: '0.25rem', flexWrap: 'wrap' }}>\n          {Array.from({ length: max - min + 1 }, (_, i) => min + i).map((n) => (\n            <button\n              key={n}\n              type=\"button\"\n              onClick={() => onValueChange(field.name, n)}\n              style={{\n                minWidth: '2.25rem', height: '2.25rem', borderRadius: radius, cursor: 'pointer',\n                border: `1px solid ${styling.theme === 'dark' ? '#4b5563' : '#d1d5db'}`,\n                background: current === n ? styling.primaryColor : (styling.theme === 'dark' ? '#374151' : '#ffffff'),\n                color: current === n ? 'white' : styling.textColor,\n                fontSize: '0.875rem', transition: 'all 0.15s',\n              }}\n            >{n}</button>\n          ))}\n        </div>\n        {(field.lowLabel || field.highLabel) && (\n          <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: '0.75rem', color: styling.theme === 'dark' ? '#9ca3af' : '#6b7280', marginTop: '0.25rem' }}>\n            <span>{field.lowLabel}</span>\n            <span>{field.highLabel}</span>\n          </div>\n        )}\n      </div>\n    );\n  } else if (field.type === 'slider') {\n    const min = field.min ?? 0;\n    const max = field.max ?? 100;\n    const step = field.step ?? 1;\n    fieldEl = (\n      <div>\n        <input\n          type=\"range\"\n          id={field.name}\n          name={field.name}\n          min={min}\n          max={max}\n          step={step}\n          value={Number(value) || min}\n          onChange={(e) => onValueChange(field.name, Number(e.target.value))}\n          style={{ width: '100%', accentColor: styling.primaryColor }}\n        />\n        <div style={{ textAlign: 'center', fontSize: '0.875rem', marginTop: '0.25rem' }}>{String(value ?? min)}</div>\n      </div>\n    );\n  } else if (field.type === 'imageChoice') {\n    const selected = value as string | undefined;\n    fieldEl = (\n      <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.5rem' }}>\n        {getOpts().map((opt) => (\n          <button\n            key={opt.value}\n            type=\"button\"\n            onClick={() => onValueChange(field.name, opt.value)}\n            style={{\n              border: `2px solid ${selected === opt.value ? styling.primaryColor : (styling.theme === 'dark' ? '#4b5563' : '#d1d5db')}`,\n              borderRadius: radius, padding: '0.5rem', cursor: 'pointer', textAlign: 'center',\n              background: 'none', transition: 'border-color 0.15s',\n            }}\n          >\n            {opt.imageUrl && <img src={opt.imageUrl} alt={opt.label} style={{ maxWidth: '80px', maxHeight: '80px', objectFit: 'cover', borderRadius: radius }} />}\n            <div style={{ fontSize: '0.875rem', marginTop: '0.25rem' }}>{opt.label}</div>\n          </button>\n        ))}\n      </div>\n    );\n  } else if (field.type === 'file') {\n    fieldEl = (\n      <input\n        type=\"file\"\n        id={field.name}\n        name={field.name}\n        onChange={onChange}\n        required={field.required}\n        accept={field.allowedMimeTypes?.join(',')}\n        multiple={field.multiple}\n        style={inputStyle}\n      />\n    );\n  } else if (field.type === 'name') {\n    const nameVal = (value || {}) as Record<string, string>;\n    const nameFields = field.nameFields || ['first', 'last'];\n    const labels: Record<string, string> = { prefix: 'Prefix', first: 'First Name', middle: 'Middle', last: 'Last Name', suffix: 'Suffix' };\n    fieldEl = (\n      <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n        {nameFields.map((nf) => (\n          <input\n            key={nf}\n            placeholder={labels[nf] || nf}\n            value={nameVal[nf] || ''}\n            onChange={(e) => onValueChange(field.name, { ...nameVal, [nf]: e.target.value })}\n            style={{ ...inputStyle, flex: 1, minWidth: '120px' }}\n          />\n        ))}\n      </div>\n    );\n  } else if (field.type === 'address') {\n    const addr = (value || {}) as Record<string, string>;\n    const addrFields = field.addressFields || ['street', 'city', 'state', 'zip', 'country'];\n    const labels: Record<string, string> = { street: 'Street', street2: 'Street 2', city: 'City', state: 'State', zip: 'ZIP', country: 'Country' };\n    fieldEl = (\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n        {addrFields.map((af) => (\n          <input\n            key={af}\n            placeholder={labels[af] || af}\n            value={addr[af] || ''}\n            onChange={(e) => onValueChange(field.name, { ...addr, [af]: e.target.value })}\n            style={inputStyle}\n          />\n        ))}\n      </div>\n    );\n  } else if (field.type === 'currency') {\n    fieldEl = (\n      <div style={{ display: 'flex', alignItems: 'center', gap: '0.25rem' }}>\n        {field.currencySymbol && <span>{field.currencySymbol}</span>}\n        <input\n          type=\"number\"\n          id={field.name}\n          name={field.name}\n          value={String(value || '')}\n          onChange={onChange}\n          step={0.01}\n          min={field.min}\n          max={field.max}\n          required={field.required}\n          style={inputStyle}\n        />\n      </div>\n    );\n  } else if (field.type === 'colorPicker') {\n    fieldEl = (\n      <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\n        <input\n          type=\"color\"\n          id={field.name}\n          value={String(value || '#000000')}\n          onChange={(e) => onValueChange(field.name, e.target.value)}\n          style={{ width: '3rem', height: '2.25rem', border: 'none', cursor: 'pointer', padding: 0 }}\n        />\n        <input\n          type=\"text\"\n          value={String(value || '')}\n          onChange={(e) => onValueChange(field.name, e.target.value)}\n          placeholder=\"#000000\"\n          style={{ ...inputStyle, flex: 1 }}\n        />\n      </div>\n    );\n  } else if (field.type === 'dateRange') {\n    const range = (value || {}) as { start?: string; end?: string };\n    fieldEl = (\n      <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\n        <input type=\"date\" value={range.start || ''} onChange={(e) => onValueChange(field.name, { ...range, start: e.target.value })} style={{ ...inputStyle, flex: 1 }} />\n        <span>to</span>\n        <input type=\"date\" value={range.end || ''} onChange={(e) => onValueChange(field.name, { ...range, end: e.target.value })} style={{ ...inputStyle, flex: 1 }} />\n      </div>\n    );\n  } else {\n    // Default: text, email, number, date, phone, url, password, time, datetime, etc.\n    const typeMap: Record<string, string> = {\n      phone: 'tel', url: 'url', datetime: 'datetime-local', time: 'time', date: 'date',\n      number: 'number', email: 'email', password: 'password',\n    };\n    fieldEl = (\n      <input\n        type={typeMap[field.type] || 'text'}\n        id={field.name}\n        name={field.name}\n        value={String(value || '')}\n        onChange={onChange}\n        placeholder={field.placeholder}\n        required={field.required}\n        min={field.min}\n        max={field.max}\n        step={field.step}\n        maxLength={field.maxLength}\n        style={inputStyle}\n      />\n    );\n  }\n\n  return (\n    <div\n      style={{\n        marginBottom: fieldSpacing,\n        ...(isInline ? { display: 'flex', alignItems: 'flex-start', gap: '1rem' } : {}),\n      }}\n    >\n      {labelEl}\n      <div style={isInline ? { flex: 1 } : {}}>\n        {fieldEl}\n        {errorEl}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","names":["errors","useState","useEffect","jsx","useState","useEffect","w"]}